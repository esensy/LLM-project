# 🧾 공공입찰 공고 문서 질의응답 시스템

공공입찰 공고 문서에 대해 자연어로 질문하면, 관련 정보를 효율적으로 검색하고 제공하는 질의응답 시스템입니다. 이 시스템은 메타데이터와 문서 본문 기반의 하이브리드 검색 방식과 대화형 인터페이스를 결합하여, 공공 데이터 활용의 접근성을 높이는 것을 목표로 합니다.

---

## 📋 목차

1. [📊 프로젝트 개요](#-프로젝트-개요)
2. [🏗️ 시스템 아키텍처](#-시스템-아키텍처)
3. [💻 개발 환경](#-개발-환경)
4. [🔁 워크플로우](#-워크플로우)
5. [✨ 핵심 기능](#-핵심-기능)
6. [🧱 개발 방식](#-개발-방식)
7. [🐞 개발 이슈 및 해결과정](#-개발-이슈-및-해결과정)
8. [⚙️ 성능 최적화](#-성능-최적화)
9. [🚀 향후 개선사항](#-향후-개선사항)

---

## 📊 프로젝트 개요

### 🎯 프로젝트 목적

- 공공입찰 공고 문서에 대한 **자연어 기반 질의응답 시스템** 개발  
- 사용자 질문에 맞는 정보를 효율적으로 추출 및 제공  

### ✅ 주요 목표

- **정확한 정보 검색**: 질문과 가장 관련 있는 문서 내용을 빠르게 제공  
- **대화 맥락 유지**: 이전 질문과의 연결 고려  
- **다양한 질문 유형 처리**: 메타데이터, 본문 검색, 비교 분석 등  
- **확장 가능한 구조 설계**: 모듈화된 구성으로 유지보수 및 확장 용이  

### 🧠 시스템 특징

- **하이브리드 검색 구조**: 메타데이터 + 문서 내용 기반 검색  
- **LLM 호출 최적화**: 필요할 때만 GPT 호출, API 사용 최소화  
- **다중 문서 DB 지원**: Primary/Secondary DB 운용  
- **대화 흐름 관리**: GPT를 통한 질문 재구성 및 응답 생성  

---

## 🏗️ 시스템 아키텍처

### 🔧 전체 시스템 흐름

```text
[사용자 질문]
    ↓
[질문 분석 및 재구성] ← GPT-4.1-mini
    ↓
[검색 방식 결정]
    ├── 규칙 기반 메타데이터 처리
    ├── 하이브리드 검색 (발주기관 + 내용)
    └── 일반 검색 (메타 → 본문)
    ↓
[다중 DB 검색]
    ├── Primary DB (MUP 데이터)
    └── Secondary DB (Plumber 데이터)
    ↓
[응답 생성 및 검증] ← GPT-4.1-mini
    ↓
[최종 응답 출력]
```

## 🗃️ 데이터베이스 구조

- **메타데이터 벡터 DB**:
    - 사업명, 발주기관 기준 임베딩
- **문서 벡터 DB (Primary)**:
    - MUP 데이터 청크 임베딩
- **문서 벡터 DB (Secondary)**:
    - Plumber 데이터 청크 임베딩
- **메타데이터 DataFrame**:
    - 구조화된 사업 정보 테이블 형태

### 데이터베이스 구조

- **메타데이터 벡터 DB**: 사업명 + 발주기관 임베딩  
- **문서 벡터 DB (Primary)**: MUP 데이터 청크 임베딩  
- **문서 벡터 DB (Secondary)**: Plumber 데이터 청크 임베딩  
- **메타데이터 DataFrame**: 구조화된 사업 정보  

---

## 💻 개발 환경

### 플랫폼 및 도구

- **개발 환경**: Google Colab Pro  
- **Python 버전**: 3.11  
- **주요 라이브러리**:  
  - `langchain` (0.2.x): 벡터 DB 및 텍스트 처리  
  - `langchain-openai`: GPT 모델 연동  
  - `langchain-huggingface`: 한국어 임베딩 모델  
  - `chromadb`: 벡터 데이터베이스  
  - `pandas`, `numpy`: 데이터 처리  
  - `openai`: LLM API 연동  

### 모델 및 API

- **LLM**: GPT-4.1-mini (OpenAI)  
- **임베딩 모델**: `snunlp/KR-SBERT-V40K-klueNLI-augSTS` (한국어 특화)  
- **벡터 DB**: ChromaDB (로컬 저장)  

### 데이터 구조

```json
{
  "filename": "사업파일명.json",
  "page_number": 1,
  "merged_page_content": "페이지 내용..."
}
```
